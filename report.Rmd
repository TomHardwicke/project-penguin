---
title: "Penguin project"
author: "Tom Hardwicke"
date: "2024-09-25"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, message = F)
# install.packages('tinytex')
# tinytex::install_tinytex()
```


## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document.

In this first chunk, we load some useful packages. If you don't have the packages installed already, you will get an error message. To install packages, use the `install.packages()` function.

```{r packages}
# install.packages('tidyverse')
library(tidyverse)
# install.packages('here')
library(here)
```

Let's load in some data about penguins. The dataset contains observations about 344 penguins collected and made available by Gorman et al. (2014) at the Palmer Station in Antarctica. 

Gorman KB, Williams TD, Fraser WR (2014) Ecological Sexual Dimorphism and Environmental Variability within a Community of Antarctic Penguins (Genus Pygoscelis). PLoS ONE 9(3): e90081. doi:10.1371/journal.pone.0090081

```{r}
d <- read_csv(here('data','raw','penguins.csv'))
```

Among the variables in penguins are:

species: a penguin’s species (Adelie, Chinstrap, or Gentoo).

flipper_length_mm: length of a penguin’s flipper, in millimeters.

body_mass_g: body mass of a penguin, in grams.

```{r}
ggplot(
  data = penguins,
  mapping = aes(x = flipper_length_mm, y = body_mass_g)
) +
  geom_point(aes(color = species, shape = species)) +
  geom_smooth(method = "lm") +
  labs(
    title = "Body mass and flipper length",
    subtitle = "Dimensions for Adelie, Chinstrap, and Gentoo Penguins",
    x = "Flipper length (mm)", y = "Body mass (g)",
    color = "Species", shape = "Species"
  ) +
  scale_color_viridis_d() +
  theme_minimal()
```

# We have two missing values — you contact the scientist who corrected the data and they find the missing information in a notebook. We need to pull in the new data.

# The client wants you to update the graph every month as new penguin data comes in.

# The client asks if the relationship is the same on the three different islands

```{r}
ggplot(
  data = penguins,
  mapping = aes(x = flipper_length_mm, y = body_mass_g)
) +
  facet_wrap(. ~island) +
  geom_point(aes(color = species, shape = species)) +
  geom_smooth(method = "lm") +
  labs(
    title = "Body mass and flipper length",
    subtitle = "Dimensions for Adelie, Chinstrap, and Gentoo Penguins",
    x = "Flipper length (mm)", y = "Body mass (g)",
    color = "Species", shape = "Species"
  ) +
  scale_color_viridis_d() +
  theme_minimal()
```
